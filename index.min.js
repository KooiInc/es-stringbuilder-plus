var v=T(),y=Z(),p={},j=!1;Object.defineProperties(m,{describe:{get(){return X()}},hasUserExtensions:{get(){return Object.keys(p).length>0}},addExtension:{value:V},removeUsrExtension:{value:E},removeAllUsrExtensions:{get(){return A(),!0}}});function m(n,...e){let t=h(n,...e);return Object.freeze(U({initialValue:t,forTest:!1,instanceValue:t}))}function U(n){let e={get length(){return e.value.length},get initial(){return n.initialValue},get value(){return String(n.instanceValue)},set value(t){e.is(t)},set test(t){j=t},get reset(){return e.is(n.initialValue)},get clear(){return e.is("")},get empty(){return e.is("")},get clone(){return m`${e.value}`},get toUpper(){return e.is(e.value.toUpperCase())},get toLower(){return e.is(e.value.toLowerCase())},get firstUp(){return e.is(N(e.value))},get wordsUp(){return e.is(W(e.value))},get toDashed(){return e.is(D(e.value))},get toCamel(){return e.is(L(e.value))},get reverse(){return e.is([...e.value].reverse().join(""))},cloneWith(t,...r){return e.clone.is(t,...r)},quot4Print(t='","'){return S(e.value,t)},is(t,...r){return n.instanceValue=h(t,...r)??e.value,e},as(t,...r){return e.is(t,...r)},quot(t='"'){return e.is(S(e.value,t))},surroundWith({l:t="",r=""}={}){return e.is(S(e.value,t.concat(`,${r}`)))},indexOf(...t){return B(e.value,...t)},lastIndexOf(...t){return I(e.value,...t)},toString(){return e.value},valueOf(){return e.value},prepend(t,...r){return e.is((t.value??h(t,r)).concat(e.value))},append(t,...r){return e.is(e.value.concat(t.value??h(t,...r)))},truncate(t,{html:r=!1,wordBoundary:a=!1}={}){return e.is(q(e.value,{at:t,html:r,wordBoundary:a}))},remove(t,r){return e.is(z(e.value,t,r))},interpolate(...t){return e.is(y(e.value,...t))}};return P(e,n),R(e,n)}function P(n){Object.entries(Object.getOwnPropertyDescriptors(p)).forEach(([e,t])=>{let r=t.value.length===1?"get":"value";Object.defineProperty(n,e,{[r]:(...a)=>{let s=t.value(n,...a);return t.value.clone?n.cloneWith(s?.value??s):n.is(s?.value??s)}})})}function R(n,e){return v.chainable.forEach(t=>n[t]=Object.getOwnPropertyDescriptor(String.prototype,t)?.value.length?function(...r){return n.is(e.instanceValue[t]?.(...r))}:function(){return n.is(e.instanceValue[t]?.())}),v.valueReturn.forEach(t=>{let r=Object.getOwnPropertyDescriptor(String.prototype,t)?.value;r&&(n[t]=r.length?function(...a){return e.instanceValue[t]?.(...a)}:function(){return e.instanceValue[t]?.()})}),n}function V(n,e,t=!1){e.clone=t,p[n]=e}function E(n){n in p&&delete p[n]}function A(){Object.keys(p).forEach(n=>E(n))}function F(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,e)=>({...n,[e.trim()]:!0}),{})}function L(n){return n.toLowerCase().trim().split("-").map((e,t)=>t&&`${e[0].toUpperCase()}${e.slice(1)}`||e).join("")}function D(n){return n.replace(/[A-Z]./g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function N(n){let e=n.match(/^\s+/);return n=n.trimStart(),(e?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function W(n){n=n.toLowerCase().split("");let e="",t;for(;n.length;){let r=n.shift();e+=/\p{L}/u.test(r)&&(!t||!/\p{L}|_/u.test(t))?r.toUpperCase():r,t=r}return e}function T(){let n=F(),e=/^(at|charAt|codePointAt)$/i,t=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(i,f)=>f.value instanceof Function&&typeof"abc"[i]()||"n/a",a=t.filter(([i,f])=>!n[i]&&!e.test(i)&&r(i,f)==="string").map(([i])=>i),s=t.filter(([i,f])=>!n[i]&&(e.test(i)||r(i,f)!=="string")).map(([i])=>i);return{chainable:a,valueReturn:s}}function S(n,e='","'){let[t,r]=e.split(",");return`${t}${n}${r??t}`}function q(n,{at:e,html:t=!1,wordBoundary:r=!1}={}){if(!e||!+e||n.length<=e)return n;let a=n.slice(0,e),s=t?"&hellip;":"...",i=[...a.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return a=r?a.slice(0,i):a,a+s}function z(n,e,t){return n.replace(n.slice(e||0,t||n.length),"")}function _(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function h(n,...e){let t=_(n);return!t&&!j&&console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)}] not a (template) string or number`),String(t?n.raw?String.raw({raw:n},...e):n??"":"")}function B(n,e,t){if(e?.constructor===RegExp)return K(n,e,t);let r=n.indexOf(e,+t);return r<0?void 0:r}function I(n,e,t){if(e?.constructor===RegExp)return G(n,e,t);let r=`${n}`.lastIndexOf(e,+t);return r<0?void 0:r}function G(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(a=>a.index<=t)?.pop()?.index:[...r].pop()?.index}}function K(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(a=>a.index>=t)?.[0]?.index:[...r][0]?.index}}function X(){let n=Object.entries(Object.getOwnPropertyDescriptors(m``)).filter(([s])=>!/valueOf|toString/.test(s)),e=Object.keys(p),t=v.chainable.concat(v.valueReturn).filter(s=>!/indexof/i.test(s)),r={};return n.forEach(([s,i])=>{if(/name|prototype|test/i.test(s)||t.find(g=>s===g))return;let f=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(s),u=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"",b=String(i.get??i.value).replace(/\s{2}/g," ").trim(),o=e.find(g=>g===s),c=o||/return instance|^(empty|reset|is)/i.test(b);r[s]={callSign:`${s}${u}`,getter:"get"in i,setter:"set"in i,method:"value"in i,override:/indexof/i.test(s),valueReturn:f,isUserExtension:o,isChainable:c,mutates:c}}),Object.defineProperty(r,"stringify",{get(){return a()}}),r;function a(){let s=[],i=l=>/\[[a-z]/i.test(l)?", ":"";return Object.entries(r).filter(([l])=>l!=="stringify").forEach(([,l])=>{let u=m`${l.callSign} [`;l.getter&&u.append(`${i(u)}getter`),l.setter&&u.append(`${i(u)}setter`),l.method&&u.append(`${i(u)}method`),l.override&&u.append(`${i(u)}native override`),l.isUserExtension&&u.append(`${i(u)}user extension`),l.valueReturn&&u.append(`${i(u)}value return (not mutating)`),l.isChainable&&u.append(`${i(u)}chainable (mutates)`),l.mutates&&!l.isChainable&&u.append(`${i(u)}mutates`),s.push(u.append`]`.value)}),s.sort((l,u)=>l.localeCompare(u))}}function Z(n){let e=o=>[String,Number].find(c=>c===Object.getPrototypeOf(o??{})?.constructor),t=o=>Object.getPrototypeOf(o??"")?.constructor===Object,r=o=>String(n??`{${o}}`),a=(o,c)=>e(c[o])?String(c[o]):r(o),s=o=>(...c)=>a(c.find(g=>g.key).key??"_",o),i=(o,c)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,s(c)),f=o=>{let c=Object.entries(o),[g,d]=c.shift(),$=d.reduce((O,x)=>[...O,{[g]:x}],[]);return c.forEach(([O,x])=>x.forEach((w,C)=>$[C][O]=`${w}`)),$},l=(...o)=>o.length===1&&Object.values(o[0]).filter(c=>!Array.isArray(c)).length<1,u=(...o)=>l(...o)?f(o.shift()):o,b=(o,...c)=>c.flat().reduce((g,d)=>g.concat(t(d)?i(o,d):""),"");return(o,...c)=>b(o,...u(...c))}export{m as default};
//# sourceMappingURL=index.min.js.map
