var d=F(),S=_(),l={},O=!1;Object.defineProperties(v,{describe:{get(){return T()}},hasUserExtensions:{get(){return Object.keys(l).length>0}},addExtension:{value:w},removeUsrExtension:{value:x},removeAllUsrExtensions:{get(){return C(),!0}}});function v(n,...e){let t=p(n,...e);return Object.freeze($({initialValue:t,forTest:!1,instanceValue:t}))}function $(n){let e={get length(){return e.value.length},get initial(){return n.initialValue},get value(){return String(n.instanceValue)},set value(t){e.is(t)},set test(t){O=t},get reset(){return e.is(n.initialValue)},get clear(){return e.is("")},get empty(){return e.is("")},get clone(){return v`${e.value}`},get toUpper(){return e.is(e.value.toUpperCase())},get toLower(){return e.is(e.value.toLowerCase())},get firstUp(){return e.is(R(e.value))},get wordsUp(){return e.is(y(e.value))},get toDashed(){return e.is(V(e.value))},get toCamel(){return e.is(P(e.value))},cloneWith(t,...r){return e.clone.is(t,...r)},quot4Print(t='","'){return m(e.value,t)},is(t,...r){return n.instanceValue=p(t,...r)??e.value,e},as(t,...r){return e.is(t,...r)},quot(t='"'){return e.is(m(e.value,t))},surroundWith({l:t="",r=""}={}){return e.is(m(e.value,t.concat(`,${r}`)))},indexOf(...t){return A(e.value,...t)},lastIndexOf(...t){return W(e.value,...t)},toString(){return e.value},valueOf(){return e.value},prepend(t,...r){return e.is((t.value??p(t,r)).concat(e.value))},append(t,...r){return e.is(e.value.concat(t.value??p(t,...r)))},truncate(t,{html:r=!1,wordBoundary:c=!1}={}){return e.is(D(e.value,{at:t,html:r,wordBoundary:c}))},remove(t,r){return e.is(L(e.value,t,r))},interpolate(...t){return e.is(S(e.value,...t))}};return j(e,n),E(e,n)}function j(n){Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([e,t])=>{let r=t.value.length===1?"get":"value";Object.defineProperty(n,e,{[r]:(...c)=>{let a=t.value(n,...c);return t.value.clone?n.cloneWith(a?.value??a):n.is(a?.value??a)}})})}function E(n,e){return d.chainable.forEach(t=>n[t]=Object.getOwnPropertyDescriptor(String.prototype,t)?.value.length?function(...r){return n.is(e.instanceValue[t]?.(...r))}:function(){return n.is(e.instanceValue[t]?.())}),d.valueReturn.forEach(t=>{let r=Object.getOwnPropertyDescriptor(String.prototype,t)?.value;r&&(n[t]=r.length?function(...c){return e.instanceValue[t]?.(...c)}:function(){return e.instanceValue[t]?.()})}),n}function w(n,e,t=!1){e.clone=t,l[n]=e}function x(n){n in l&&delete l[n]}function C(){Object.keys(l).forEach(n=>x(n))}function U(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,e)=>({...n,[e.trim()]:!0}),{})}function P(n){return n.toLowerCase().trim().split("-").map((e,t)=>t&&`${e[0].toUpperCase()}${e.slice(1)}`||e).join("")}function V(n){return n.replace(/[A-Z]./g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function R(n){let e=n.match(/^\s+/);return n=n.trimStart(),(e?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function y(n){n=n.toLowerCase().split("");let e="",t;for(;n.length;){let r=n.shift();e+=/\p{L}/u.test(r)&&(!t||!/\p{L}|_/u.test(t))?r.toUpperCase():r,t=r}return e}function F(){let n=U(),e=/^(at|charAt|codePointAt)$/i,t=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(i,u)=>u.value instanceof Function&&typeof"abc"[i]()||"n/a",c=t.filter(([i,u])=>!n[i]&&!e.test(i)&&r(i,u)==="string").map(([i])=>i),a=t.filter(([i,u])=>!n[i]&&(e.test(i)||r(i,u)!=="string")).map(([i])=>i);return{chainable:c,valueReturn:a}}function m(n,e='","'){let[t,r]=e.split(",");return`${t}${n}${r??t}`}function D(n,{at:e,html:t=!1,wordBoundary:r=!1}={}){if(!e||!+e||n.length<=e)return n;let c=n.slice(0,e),a=t?"&hellip;":"...",i=[...c.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return c=r?c.slice(0,i):c,c+a}function L(n,e,t){return n.replace(n.slice(e||0,t||n.length),"")}function N(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function p(n,...e){let t=N(n);return!t&&!O&&console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)}] not a (template) string or number`),String(t?n.raw?String.raw({raw:n},...e):n??"":"")}function A(n,e,t){if(e?.constructor===RegExp)return z(n,e,t);let r=n.indexOf(e,+t);return r<0?void 0:r}function W(n,e,t){if(e?.constructor===RegExp)return q(n,e,t);let r=`${n}`.lastIndexOf(e,+t);return r<0?void 0:r}function q(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(c=>c.index<=t)?.pop()?.index:[...r].pop()?.index}}function z(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(c=>c.index>=t)?.[0]?.index:[...r][0]?.index}}function T(){let n=Object.entries(Object.getOwnPropertyDescriptors(v``)).filter(([a])=>!/valueOf|toString/.test(a)),e=Object.keys(l),t=d.chainable.concat(d.valueReturn).filter(a=>!/indexof/i.test(a)),r={};return n.forEach(([a,i])=>{if(/name|prototype|test/i.test(a)||t.find(h=>a===h))return;let u=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(a),s=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"",f=String(i.get??i.value).replace(/\s{2}/g," ").trim(),g=e.find(h=>h===a),b=g||/return instance|^(empty|reset|is)/i.test(f);r[a]={callSign:`${a}${s}`,getter:"get"in i,setter:"set"in i,method:"value"in i,override:/indexof/i.test(a),valueReturn:u,isUserExtension:g,isChainable:b,mutates:b}}),Object.defineProperty(r,"stringify",{get(){return c()}}),r;function c(){let a=[],i=o=>/\[[a-z]/i.test(o)?", ":"";return Object.entries(r).filter(([o])=>o!=="stringify").forEach(([,o])=>{let s=v`${o.callSign} [`;o.getter&&s.append(`${i(s)}getter`),o.setter&&s.append(`${i(s)}setter`),o.method&&s.append(`${i(s)}method`),o.override&&s.append(`${i(s)}native override`),o.isUserExtension&&s.append(`${i(s)}user extension`),o.valueReturn&&s.append(`${i(s)}value return (not mutating)`),o.isChainable&&s.append(`${i(s)}chainable (mutates)`),o.mutates&&!o.isChainable&&s.append(`${i(s)}mutates`),a.push(s.append`]`.value)}),a.sort((o,s)=>o.localeCompare(s))}}function _(){let{isStringOrNumber:n,isObject:e,invalidate:t,replacement:r,replacer:c,replace:a}={isStringOrNumber:u=>[String,Number].find(o=>o===Object.getPrototypeOf(u??{})?.constructor),isObject:u=>Object.getPrototypeOf(u??"")?.constructor===Object,invalidate:(u,o)=>u??`{${o}}`,replacement:(u,o,s)=>!n(o[u])||!s&&`${o[u]}`.trim()===""?t(s,u):o[u]??t(s,u),replacer:(u,o)=>(...s)=>r(s.find(f=>f.key).key??"_",u,o),replace:(u,o,s)=>u.replace(/\{(?<key>[a-z_\d]+)}/gim,c(o,s))},i=(u,o,...s)=>s.flat().reduce((f,g)=>f.concat(e(g)?a(u,g,o):""),"");return(u,...o)=>{let s=n(o[0])?String(o.shift()):void 0;return i(u,s,...o)}}export{v as default};
//# sourceMappingURL=index.min.js.map
