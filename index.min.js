var v=T(),C=Z(),g={},$=!1;Object.defineProperties(h,{describe:{get(){return X()}},hasUserExtensions:{get(){return Object.keys(g).length>0}},addExtension:{value:P},removeUsrExtension:{value:j},removeAllUsrExtensions:{get(){return A(),!0}}});function h(n,...e){let t=d(n,...e);return Object.freeze(U({initialValue:t,forTest:!1,instanceValue:t}))}function U(n){let e={get length(){return e.value.length},get initial(){return n.initialValue},get value(){return String(n.instanceValue)},set value(t){e.is(t)},set test(t){$=t},get reset(){return e.is(n.initialValue)},get clear(){return e.is("")},get empty(){return e.is("")},get clone(){return h`${e.value}`},get toUpper(){return e.is(e.value.toUpperCase())},get toLower(){return e.is(e.value.toLowerCase())},get firstUp(){return e.is(N(e.value))},get wordsUp(){return e.is(W(e.value))},get toDashed(){return e.is(D(e.value))},get toCamel(){return e.is(F(e.value))},get reverse(){return e.is([...e.value].reverse().join(""))},cloneWith(t,...r){return e.clone.is(t,...r)},quot4Print(t='","'){return x(e.value,t)},is(t,...r){return n.instanceValue=d(t,...r)??e.value,e},as(t,...r){return e.is(t,...r)},quot(t='"'){return e.is(x(e.value,t))},surroundWith({l:t="",r=""}={}){return e.is(x(e.value,t.concat(`,${r}`)))},indexOf(...t){return B(e.value,...t)},lastIndexOf(...t){return I(e.value,...t)},toString(){return e.value},valueOf(){return e.value},prepend(t,...r){return e.is((t.value??d(t,r)).concat(e.value))},append(t,...r){return e.is(e.value.concat(t.value??d(t,...r)))},truncate(t,{html:r=!1,wordBoundary:a=!1}={}){return e.is(q(e.value,{at:t,html:r,wordBoundary:a}))},remove(t,r){return e.is(z(e.value,t,r))},interpolate(...t){return e.is(C(e.value,...t))}};return R(e,n),V(e,n)}function R(n){Object.entries(Object.getOwnPropertyDescriptors(g)).forEach(([e,t])=>{let r=t.value.length===1?"get":"value";Object.defineProperty(n,e,{[r]:(...a)=>{let i=t.value(n,...a);return t.value.clone?n.cloneWith(i?.value??i):n.is(i?.value??i)}})})}function V(n,e){return v.chainable.forEach(t=>n[t]=Object.getOwnPropertyDescriptor(String.prototype,t)?.value.length?function(...r){return n.is(e.instanceValue[t]?.(...r))}:function(){return n.is(e.instanceValue[t]?.())}),v.valueReturn.forEach(t=>{let r=Object.getOwnPropertyDescriptor(String.prototype,t)?.value;r&&(n[t]=r.length?function(...a){return e.instanceValue[t]?.(...a)}:function(){return e.instanceValue[t]?.()})}),n}function P(n,e,t=!1){e.clone=t,g[n]=e}function j(n){n in g&&delete g[n]}function A(){Object.keys(g).forEach(n=>j(n))}function L(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,e)=>({...n,[e.trim()]:!0}),{})}function F(n){return n.toLowerCase().trim().split("-").map((e,t)=>t&&`${e[0].toUpperCase()}${e.slice(1)}`||e).join("")}function D(n){return n.replace(/[A-Z]./g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function N(n){let e=n.match(/^\s+/);return n=n.trimStart(),(e?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function W(n){n=n.toLowerCase().split("");let e="",t;for(;n.length;){let r=n.shift();e+=/\p{L}/u.test(r)&&(!t||!/\p{L}|_/u.test(t))?r.toUpperCase():r,t=r}return e}function T(){let n=L(),e=/^(at|charAt|codePointAt)$/i,t=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r="abc",a=(i,u)=>u.value instanceof Function&&typeof r[i]()||"n/a";return{chainable:t.filter(([i,u])=>!n[i]&&!e.test(i)&&a(i,u)==="string").map(([i])=>i),valueReturn:t.filter(([i,u])=>!n[i]&&(e.test(i)||a(i,u)!=="string")).map(([i])=>i)}}function x(n,e='","'){let[t,r]=e.split(",");return`${t}${n}${r??t}`}function q(n,{at:e,html:t=!1,wordBoundary:r=!1}={}){if(!e||!+e||n.length<=e)return n;let a=n.slice(0,e),i=t?"&hellip;":"...",u=[...a.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return a=r?a.slice(0,u):a,a+i}function z(n,e,t){return n.replace(n.slice(e||0,t||n.length),"")}function _(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function d(n,...e){let t=_(n);return!t&&!$&&console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)??"empty string"}] not a (template) string or number`),String(t?n.raw?String.raw({raw:n},...e):n??"":"")}function B(n,e,t){if(e?.constructor===RegExp)return K(n,e,t);let r=n.indexOf(e,+t);return r<0?void 0:r}function I(n,e,t){if(e?.constructor===RegExp)return G(n,e,t);let r=`${n}`.lastIndexOf(e,+t);return r<0?void 0:r}function G(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(a=>a.index<=t)?.pop()?.index:[...r].pop()?.index}}function K(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(a=>a.index>=t)?.[0]?.index:[...r][0]?.index}}function X(){let n=Object.entries(Object.getOwnPropertyDescriptors(h``)).filter(([i])=>!/valueOf|toString/.test(i)),e=Object.keys(g),t=v.chainable.concat(v.valueReturn).filter(i=>!/indexof/i.test(i)),r={};return n.forEach(([i,u])=>{if(/name|prototype|test/i.test(i)||t.find(f=>i===f))return;let p=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(i),s=!u.get&&!u.set&&u.value instanceof Function?u.value.toString().match(/(\(.+?\))/)?.shift()??"()":"",m=String(u.get??u.value).replace(/\s{2}/g," ").trim(),o=e.find(f=>f===i),l=o||/return instance|^(empty|reset|is)/i.test(m);r[i]={callSign:`${i}${s}`,getter:"get"in u,setter:"set"in u,method:"value"in u,override:/indexof/i.test(i),valueReturn:p,isUserExtension:o,isChainable:l,mutates:l}}),Object.defineProperty(r,"stringify",{get(){return a()}}),r;function a(){let i=[],u=c=>/\[[a-z]/i.test(c)?", ":"";return Object.entries(r).filter(([c])=>c!=="stringify").forEach(([,c])=>{let s=h`${c.callSign} [`;c.getter&&s.append(`${u(s)}getter`),c.setter&&s.append(`${u(s)}setter`),c.method&&s.append(`${u(s)}method`),c.override&&s.append(`${u(s)}native override`),c.isUserExtension&&s.append(`${u(s)}user extension`),c.valueReturn&&s.append(`${u(s)}value return (not mutating)`),c.isChainable&&s.append(`${u(s)}chainable (mutates)`),c.mutates&&!c.isChainable&&s.append(`${u(s)}mutates`),i.push(s.append`]`.value)}),i.sort((c,s)=>c.localeCompare(s))}}function Z(n){return function(o,...l){return m(o,s(l))};function e(o){return[String,Number].includes(o?.constructor)}function t(o){return o?.constructor===Object}function r(o){return String(n??`{${o}}`)}function a(o,l){return e(l[o])?String(l[o]):r(o)}function i(o){return(...l)=>{let f=l.find(b=>b.key);return a(f?f.key:"_",o)}}function u(o,l){return o.replace(/\{(?<key>[a-z_\d]+)}/gim,i(l))}function p(o){let l=Object.entries(o),[f,b]=l.shift(),S=b.map(O=>({[f]:O}));return l.forEach(([O,E])=>{E.forEach((w,y)=>{S[y][O]=`${w}`})}),S}function c(o){return o.length===1&&Object.values(o[0]).every(Array.isArray)}function s(o){return c(o)?p(o[0]):o}function m(o,l){return l.flat().map(f=>t(f)?u(o,f):"").join("")}}export{h as default};
//# sourceMappingURL=index.min.js.map
