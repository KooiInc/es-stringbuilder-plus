var d=P(),b=F(),m={};Object.defineProperty(p,"describe",{get(){return N()}});Object.defineProperty(p,"addExtension",{value:(n,t)=>m[n]=t});var R=p;function p(n,...t){let e=g(n,...t);return Object.freeze(O({initial:e,instanceValue:e}))}function O(n){let t={get length(){return t.value.length},get initial(){return n.initialValue},get value(){return n.instanceValue},set value(e){t.is(e)},get reset(){return t.is(n.initial)},get clear(){return t.is("")},get empty(){return t.is("")},get clone(){return p`${t.value}`},get toUpper(){return t.is(t.value.toUpperCase())},get toLower(){return t.is(t.value.toLowerCase())},get firstUp(){return t.is(w(t.value))},get wordsUp(){return t.is(C(t.value))},get toDashed(){return t.is($(t.value))},get toCamel(){return t.is(j(t.value))},quot4Print(e='","'){return v(t.value,e)},is(e,...r){return n.instanceValue=g(e,...r)??t.value,t},as(e,...r){return t.is(e,...r)},quot(e='"'){return t.is(v(t.value,e))},surroundWith({l:e="",r=""}={}){return t.is(v(t.value,e.concat(`,${r}`)))},indexOf(...e){return D(t.value,...e)},lastIndexOf(...e){return E(t.value,...e)},toString(){return t.value},valueOf(){return t.value},prepend(e,...r){return t.is((e.value??g(e,r)).concat(t.value))},append(e,...r){return t.is(t.value.concat(e.value??g(e,...r)))},truncate(e,{html:r=!1,wordBoundary:i=!1}={}){return t.is(V(t.value,{at:e,html:r,wordBoundary:i}))},remove(e,r){return t.is(L(t.value,e,r))},interpolate(...e){return t.is(b(t.value,...e))}};return Object.entries(Object.getOwnPropertyDescriptors(m)).forEach(([e,r])=>{let i=r.value.length===1?"get":"value";Object.defineProperty(t,e,{[i]:(...a)=>{let u=r.value(t,...a);return t.is(u?.value??u)}})}),x(t,n)}function x(n,t){return d.chainable.forEach(e=>n[e]=Object.getOwnPropertyDescriptor(String.prototype,e)?.value.length?function(...r){return n.is(t.instanceValue[e]?.(...r))}:function(){return n.is(t.instanceValue[e]?.())}),d.valueReturn.forEach(e=>{let r=Object.getOwnPropertyDescriptor(String.prototype,e)?.value;r&&(n[e]=r.length?function(...i){return t.instanceValue[e]?.(...i)}:function(){return t.instanceValue[e]?.()})}),n}function S(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,t)=>({...n,[t.trim()]:!0}),{})}function j(n){return n.toLowerCase().trim().split("-").map((t,e)=>e&&`${t[0].toUpperCase()}${t.slice(1)}`||t).join("")}function $(n){return n.replace(/[A-Z]./g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,"")}function w(n){let t=n.match(/^\s+/);return n=n.trimStart(),(t?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function C(n){let t="";n=n.toLowerCase().split("");let e;for(;n.length;){let r=n.shift();t+=/\p{L}/u.test(r)&&(!e||!/\p{L}|_/u.test(e))?r.toUpperCase():r,e=r}return t}function P(){let n=S(),t=/^(at|charAt|codePointAt)$/i,e=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(u,o)=>o.value instanceof Function&&typeof"abc"[u]()||"n/a",i=e.filter(([u,o])=>!n[u]&&!t.test(u)&&r(u,o)==="string").map(([u])=>u),a=e.filter(([u,o])=>!n[u]&&(t.test(u)||r(u,o)!=="string")).map(([u])=>u);return{chainable:i,valueReturn:a}}function v(n,t='","'){let[e,r]=t.split(",");return`${e}${n}${r??e}`}function V(n,{at:t,html:e=!1,wordBoundary:r=!1}={}){if(!t||!+t||n.length<=t)return n;let i=n.slice(0,t),a=e?"&hellip;":"...",u=[...i.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return i=r?i.slice(0,u):i,i+a}function L(n,t,e){return n.replace(n.slice(t||0,e||n.length),"")}function U(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function g(n,...t){let e=U(n);return e||console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)}] not a (template) string or number`),e?n.raw?String.raw({raw:n},...t):n??"":""}function D(n,t,e){let r=n.indexOf(t,e);return r<0?void 0:r}function E(n,t,e){let r=n.lastIndexOf(t,e);return r<0?void 0:r}function N(){let n=Object.entries(Object.getOwnPropertyDescriptors(p``)),t=Object.keys(m),e=d.chainable.concat(d.valueReturn).filter(r=>!/indexof/i.test(r));return n.map(([r,i])=>{if(/name|prototype/i.test(r)||e.find(h=>r===h))return;let a=[],u=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(r),s=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"";if(i.get&&a.push("getter"),i.value&&a.push("method"),/indexof/i.test(r)&&a.push("native override"),u)return a.push("value return (not mutating)"),`${r}${s} [${a.join(", ")}]`;let c=String(i.get??i.value).replace(/\s{2}/g," ").trim(),l=t.find(h=>h===r),f=l||/return instance|^(empty|reset|is)/i.test(c);return i.set&&a.push("setter (mutates)"),l&&a.push("user extension"),f&&a.push("mutates","chainable"),`${r}${s} [${a.join(", ")}]`}).filter(r=>r).sort((r,i)=>r.localeCompare(i))}function F(){let{isStringOrNumber:n,isObject:t,invalidate:e,replacement:r,replacer:i,replace:a}={isStringOrNumber:o=>[String,Number].find(s=>s===Object.getPrototypeOf(o??{})?.constructor),isObject:o=>Object.getPrototypeOf(o??"")?.constructor===Object,invalidate:(o,s)=>o??`{${s}}`,replacement:(o,s,c)=>!n(s[o])||!c&&`${s[o]}`.trim()===""?e(c,o):s[o]??e(c,o),replacer:(o,s)=>(...c)=>r(c.find(l=>l.key).key??"_",o,s),replace:(o,s,c)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,i(s,c))},u=(o,s,...c)=>c.flat().reduce((l,f)=>l.concat(t(f)?a(o,f,s):""),"");return(o,...s)=>{let c=n(s[0])?String(s.shift()):void 0;return u(o,c,...s)}}export{R as default};
//# sourceMappingURL=index.min.js.map
