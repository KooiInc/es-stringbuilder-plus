var h=D(),x=T(),l={},b=!1;Object.defineProperties(m,{describe:{get(){return z()}},hasUserExtensions:{get(){return Object.keys(l).length>0}},addExtension:{value:w},removeUsrExtension:{value:O},removeAllUsrExtensions:{get(){return E(),!0}}});function m(n,...t){let e=g(n,...t);return Object.freeze(S({initialValue:e,forTest:!1,instanceValue:e}))}function S(n){let t={get length(){return t.value.length},get initial(){return n.initialValue},get value(){return String(n.instanceValue)},set value(e){t.is(e)},set test(e){b=e},get reset(){return t.is(n.initialValue)},get clear(){return t.is("")},get empty(){return t.is("")},get clone(){return m`${t.value}`},get toUpper(){return t.is(t.value.toUpperCase())},get toLower(){return t.is(t.value.toLowerCase())},get firstUp(){return t.is(P(t.value))},get wordsUp(){return t.is(R(t.value))},get toDashed(){return t.is(V(t.value))},get toCamel(){return t.is(U(t.value))},cloneWith(e,...r){return t.clone.is(e,...r)},quot4Print(e='","'){return v(t.value,e)},is(e,...r){return n.instanceValue=g(e,...r)??t.value,t},as(e,...r){return t.is(e,...r)},quot(e='"'){return t.is(v(t.value,e))},surroundWith({l:e="",r=""}={}){return t.is(v(t.value,e.concat(`,${r}`)))},indexOf(...e){return A(t.value,...e)},lastIndexOf(...e){return F(t.value,...e)},toString(){return t.value},valueOf(){return t.value},prepend(e,...r){return t.is((e.value??g(e,r)).concat(t.value))},append(e,...r){return t.is(t.value.concat(e.value??g(e,...r)))},truncate(e,{html:r=!1,wordBoundary:i=!1}={}){return t.is(L(t.value,{at:e,html:r,wordBoundary:i}))},remove(e,r){return t.is(N(t.value,e,r))},interpolate(...e){return t.is(x(t.value,...e))}};return j(t,n),$(t,n)}function j(n){Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([t,e])=>{let r=e.value.length===1?"get":"value";Object.defineProperty(n,t,{[r]:(...i)=>{let u=e.value(n,...i);return e.value.clone?n.cloneWith(u?.value??u):n.is(u?.value??u)}})})}function $(n,t){return h.chainable.forEach(e=>n[e]=Object.getOwnPropertyDescriptor(String.prototype,e)?.value.length?function(...r){return n.is(t.instanceValue[e]?.(...r))}:function(){return n.is(t.instanceValue[e]?.())}),h.valueReturn.forEach(e=>{let r=Object.getOwnPropertyDescriptor(String.prototype,e)?.value;r&&(n[e]=r.length?function(...i){return t.instanceValue[e]?.(...i)}:function(){return t.instanceValue[e]?.()})}),n}function w(n,t,e=!1){t.clone=e,l[n]=t}function O(n){n in l&&delete l[n]}function E(n){Object.keys(l).forEach(t=>O(t))}function C(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,t)=>({...n,[t.trim()]:!0}),{})}function U(n){return n.toLowerCase().trim().split("-").map((t,e)=>e&&`${t[0].toUpperCase()}${t.slice(1)}`||t).join("")}function V(n){return n.replace(/[A-Z]./g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,"")}function P(n){let t=n.match(/^\s+/);return n=n.trimStart(),(t?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function R(n){n=n.toLowerCase().split("");let t="",e;for(;n.length;){let r=n.shift();t+=/\p{L}/u.test(r)&&(!e||!/\p{L}|_/u.test(e))?r.toUpperCase():r,e=r}return t}function D(){let n=C(),t=/^(at|charAt|codePointAt)$/i,e=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(a,o)=>o.value instanceof Function&&typeof"abc"[a]()||"n/a",i=e.filter(([a,o])=>!n[a]&&!t.test(a)&&r(a,o)==="string").map(([a])=>a),u=e.filter(([a,o])=>!n[a]&&(t.test(a)||r(a,o)!=="string")).map(([a])=>a);return{chainable:i,valueReturn:u}}function v(n,t='","'){let[e,r]=t.split(",");return`${e}${n}${r??e}`}function L(n,{at:t,html:e=!1,wordBoundary:r=!1}={}){if(!t||!+t||n.length<=t)return n;let i=n.slice(0,t),u=e?"&hellip;":"...",a=[...i.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return i=r?i.slice(0,a):i,i+u}function N(n,t,e){return n.replace(n.slice(t||0,e||n.length),"")}function y(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function g(n,...t){let e=y(n);return!e&&!b&&console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)}] not a (template) string or number`),String(e?n.raw?String.raw({raw:n},...t):n??"":"")}function A(n,t,e){if(t?.constructor===RegExp)return q(n,t,e);let r=n.indexOf(t,+e);return r<0?void 0:r}function F(n,t,e){if(t?.constructor===RegExp)return W(n,t,e);let r=`${n}`.lastIndexOf(t,+e);return r<0?void 0:r}function W(n,t,e){if(t?.constructor===RegExp){t.global||(t=RegExp(t,t.flags.concat("g")));let r=n.matchAll(t);return typeof e=="number"?[...r].filter(i=>i.index<=e)?.pop()?.index:[...r].pop()?.index}}function q(n,t,e){if(t?.constructor===RegExp){t.global||(t=RegExp(t,t.flags.concat("g")));let r=n.matchAll(t);return typeof e=="number"?[...r].filter(i=>i.index>=e)?.[0]?.index:[...r][0]?.index}}function z(){let n=Object.entries(Object.getOwnPropertyDescriptors(m``)),t=Object.keys(l),e=h.chainable.concat(h.valueReturn).filter(r=>!/indexof/i.test(r));return n.map(([r,i])=>{if(/name|prototype|test/i.test(r)||e.find(d=>r===d))return;let u=[],a=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(r),s=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"";if(i.get&&u.push("getter"),i.value&&u.push("method"),/indexof/i.test(r)&&u.push("native override"),a)return u.push("value return (not mutating)"),`${r}${s} [${u.join(", ")}]`;let c=String(i.get??i.value).replace(/\s{2}/g," ").trim(),f=t.find(d=>d===r),p=f||/return instance|^(empty|reset|is)/i.test(c);return i.set&&u.push("setter (mutates)"),f&&u.push("user extension"),p&&u.push("chainable (mutates)"),`${r}${s} [${u.join(", ")}]`}).filter(r=>r).sort((r,i)=>r.localeCompare(i))}function T(){let{isStringOrNumber:n,isObject:t,invalidate:e,replacement:r,replacer:i,replace:u}={isStringOrNumber:o=>[String,Number].find(s=>s===Object.getPrototypeOf(o??{})?.constructor),isObject:o=>Object.getPrototypeOf(o??"")?.constructor===Object,invalidate:(o,s)=>o??`{${s}}`,replacement:(o,s,c)=>!n(s[o])||!c&&`${s[o]}`.trim()===""?e(c,o):s[o]??e(c,o),replacer:(o,s)=>(...c)=>r(c.find(f=>f.key).key??"_",o,s),replace:(o,s,c)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,i(s,c))},a=(o,s,...c)=>c.flat().reduce((f,p)=>f.concat(t(p)?u(o,p,s):""),"");return(o,...s)=>{let c=n(s[0])?String(s.shift()):void 0;return a(o,c,...s)}}export{m as default};
//# sourceMappingURL=index.min.js.map
