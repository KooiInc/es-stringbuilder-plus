var v=q(),y=H(),g={},j=!1;Object.defineProperties(h,{describe:{get(){return Z()}},hasUserExtensions:{get(){return Object.keys(g).length>0}},addExtension:{value:P},removeUsrExtension:{value:E},removeAllUsrExtensions:{get(){return L(),!0}}});function h(t,...e){let n=d(t,...e);return Object.freeze(R({initialValue:n,forTest:!1,instanceValue:n}))}function R(t){let e={get length(){return e.value.length},get initial(){return t.initialValue},get value(){return String(t.instanceValue)},set value(n){e.is(n)},set test(n){j=n},get reset(){return e.is(t.initialValue)},get clear(){return e.is("")},get empty(){return e.is("")},get clone(){return h`${e.value}`},get toUpper(){return e.is(e.value.toUpperCase())},get toLower(){return e.is(e.value.toLowerCase())},get firstUp(){return e.is(W(e.value))},get wordsUp(){return e.is(T(e.value))},get toDashed(){return e.is(N(e.value))},get toCamel(){return e.is(D(e.value))},get reverse(){return e.is([...e.value].reverse().join(""))},cloneWith(n,...r){return e.clone.is(n,...r)},quot4Print(n='","'){return x(e.value,n)},is(n,...r){return t.instanceValue=d(n,...r)??e.value,e},as(n,...r){return e.is(n,...r)},quot(n='"'){return e.is(x(e.value,n))},surroundWith({l:n="",r=""}={}){return e.is(x(e.value,n.concat(`,${r}`)))},indexOf(...n){return I(e.value,...n)},lastIndexOf(...n){return G(e.value,...n)},toString(){return e.value},valueOf(){return e.value},prepend(n,...r){return e.is((n.value??d(n,r)).concat(e.value))},append(n,...r){return e.is(e.value.concat(n.value??d(n,...r)))},truncate(n,{html:r=!1,wordBoundary:u=!1}={}){return e.is(z(e.value,{at:n,html:r,wordBoundary:u}))},remove(n,r){return e.is(_(e.value,n,r))},interpolate(...n){return e.is(y(e.value,...n))}};return V(e,t),A(e,t)}function V(t){Object.entries(Object.getOwnPropertyDescriptors(g)).forEach(([e,n])=>{let r=n.value.length===1?"get":"value";Object.defineProperty(t,e,{[r]:(...u)=>{let o=n.value(t,...u);return n.value.clone?t.cloneWith(o?.value??o):t.is(o?.value??o)}})})}function A(t,e){return v.chainable.forEach(n=>t[n]=Object.getOwnPropertyDescriptor(String.prototype,n)?.value.length?function(...r){return t.is(e.instanceValue[n]?.(...r))}:function(){return t.is(e.instanceValue[n]?.())}),v.valueReturn.forEach(n=>{let r=Object.getOwnPropertyDescriptor(String.prototype,n)?.value;r&&(t[n]=r.length?function(...u){return e.instanceValue[n]?.(...u)}:function(){return e.instanceValue[n]?.()})}),t}function P(t,e,n=!1){e.clone=n,g[t]=e}function E(t){t in g&&delete g[t]}function L(){Object.keys(g).forEach(t=>E(t))}function F(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((t,e)=>({...t,[e.trim()]:!0}),{})}function D(t){return t.toLowerCase().trim().split("-").map((e,n)=>n&&`${e[0].toUpperCase()}${e.slice(1)}`||e).join("")}function N(t){return t.replace(/[A-Z]./g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function W(t){let e=t.match(/^\s+/);return t=t.trimStart(),(e?.[0]??"")+t[0].toUpperCase()+t.slice(1).toLowerCase()}function T(t){t=t.toLowerCase().split("");let e="",n;for(;t.length;){let r=t.shift();e+=/\p{L}/u.test(r)&&(!n||!/\p{L}|_/u.test(n))?r.toUpperCase():r,n=r}return e}function q(){let t=F(),e=/^(at|charAt|codePointAt)$/i,n=Object.entries(Object.getOwnPropertyDescriptors(String.prototype));return{chainable:n.filter(([r,u])=>!t[r]&&!e.test(r)&&$(r,u)).map(([r])=>r),valueReturn:n.filter(([r,u])=>!t[r]&&(e.test(r)||!$(r,u))).map(([r])=>r)}}function $(t,e){return e.value instanceof Function&&"A"[t]()?.constructor===String}function x(t,e='","'){let[n,r]=e.split(",");return`${n}${t}${r??n}`}function z(t,{at:e,html:n=!1,wordBoundary:r=!1}={}){if(!e||!+e||t.length<=e)return t;let u=t.slice(0,e),o=n?"&hellip;":"...",a=[...u.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return u=r?u.slice(0,a):u,u+o}function _(t,e,n){return t.replace(t.slice(e||0,n||t.length),"")}function B(t){return t=t?.constructor===Number?String(t):t,t?.constructor===String||t?.raw}function d(t,...e){let n=B(t);return!n&&!j&&console.info(`\u2718 String contract not met: input [${String(t)?.slice(0,15)}] not a (template) string or number`),String(n?t.raw?String.raw({raw:t},...e):t??"":"")}function I(t,e,n){if(e?.constructor===RegExp)return X(t,e,n);let r=t.indexOf(e,+n);return r<0?void 0:r}function G(t,e,n){if(e?.constructor===RegExp)return K(t,e,n);let r=`${t}`.lastIndexOf(e,+n);return r<0?void 0:r}function K(t,e,n){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=t.matchAll(e);return typeof n=="number"?[...r].filter(u=>u.index<=n)?.pop()?.index:[...r].pop()?.index}}function X(t,e,n){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=t.matchAll(e);return typeof n=="number"?[...r].filter(u=>u.index>=n)?.[0]?.index:[...r][0]?.index}}function Z(){let t=Object.entries(Object.getOwnPropertyDescriptors(h``)).filter(([o])=>!/valueOf|toString/.test(o)),e=Object.keys(g),n=v.chainable.concat(v.valueReturn).filter(o=>!/indexof/i.test(o)),r={};return t.forEach(([o,a])=>{if(/name|prototype|test/i.test(o)||n.find(f=>o===f))return;let p=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(o),s=!a.get&&!a.set&&a.value instanceof Function?a.value.toString().match(/(\(.+?\))/)?.shift()??"()":"",m=String(a.get??a.value).replace(/\s{2}/g," ").trim(),i=e.find(f=>f===o),l=i||/return instance|^(empty|reset|is)/i.test(m);r[o]={callSign:`${o}${s}`,getter:"get"in a,setter:"set"in a,method:"value"in a,override:/indexof/i.test(o),valueReturn:p,isUserExtension:i,isChainable:l,mutates:l}}),Object.defineProperty(r,"stringify",{get(){return u()}}),r;function u(){let o=[],a=c=>/\[[a-z]/i.test(c)?", ":"";return Object.entries(r).filter(([c])=>c!=="stringify").forEach(([,c])=>{let s=h`${c.callSign} [`;c.getter&&s.append(`${a(s)}getter`),c.setter&&s.append(`${a(s)}setter`),c.method&&s.append(`${a(s)}method`),c.override&&s.append(`${a(s)}native override`),c.isUserExtension&&s.append(`${a(s)}user extension`),c.valueReturn&&s.append(`${a(s)}value return (not mutating)`),c.isChainable&&s.append(`${a(s)}chainable (mutates)`),c.mutates&&!c.isChainable&&s.append(`${a(s)}mutates`),o.push(s.append`]`.value)}),o.sort((c,s)=>c.localeCompare(s))}}function H(t){return function(i,...l){return m(i,s(l))};function e(i){return[String,Number].includes(i?.constructor)}function n(i){return i?.constructor===Object}function r(i){return String(t??`{${i}}`)}function u(i,l){return e(l[i])?String(l[i]):r(i)}function o(i){return(...l)=>{let f=l.find(b=>b.key);return u(f?f.key:"_",i)}}function a(i,l){return i.replace(/\{(?<key>[a-z_\d]+)}/gim,o(l))}function p(i){let l=Object.entries(i),[f,b]=l.shift(),S=b.map(O=>({[f]:O}));return l.forEach(([O,w])=>{w.forEach((C,U)=>{S[U][O]=`${C}`})}),S}function c(i){return i.length===1&&Object.values(i[0]).every(Array.isArray)}function s(i){return c(i)?p(i[0]):i}function m(i,l){return l.flat().map(f=>n(f)?a(i,f):"").join("")}}export{h as default};
//# sourceMappingURL=index.min.js.map
