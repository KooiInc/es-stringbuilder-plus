var d=D(),$=B(),l={},x=!1;Object.defineProperties(h,{describe:{get(){return _()}},hasUserExtensions:{get(){return Object.keys(l).length>0}},addExtension:{value:C},removeUsrExtension:{value:S},removeAllUsrExtensions:{get(){return U(),!0}}});function h(n,...e){let t=g(n,...e);return Object.freeze(j({initialValue:t,forTest:!1,instanceValue:t}))}function j(n){let e={get length(){return e.value.length},get initial(){return n.initialValue},get value(){return String(n.instanceValue)},set value(t){e.is(t)},set test(t){x=t},get reset(){return e.is(n.initialValue)},get clear(){return e.is("")},get empty(){return e.is("")},get clone(){return h`${e.value}`},get toUpper(){return e.is(e.value.toUpperCase())},get toLower(){return e.is(e.value.toLowerCase())},get firstUp(){return e.is(y(e.value))},get wordsUp(){return e.is(F(e.value))},get toDashed(){return e.is(R(e.value))},get toCamel(){return e.is(V(e.value))},cloneWith(t,...r){return e.clone.is(t,...r)},quot4Print(t='","'){return m(e.value,t)},is(t,...r){return n.instanceValue=g(t,...r)??e.value,e},as(t,...r){return e.is(t,...r)},quot(t='"'){return e.is(m(e.value,t))},surroundWith({l:t="",r=""}={}){return e.is(m(e.value,t.concat(`,${r}`)))},indexOf(...t){return W(e.value,...t)},lastIndexOf(...t){return q(e.value,...t)},toString(){return e.value},valueOf(){return e.value},prepend(t,...r){return e.is((t.value??g(t,r)).concat(e.value))},append(t,...r){return e.is(e.value.concat(t.value??g(t,...r)))},truncate(t,{html:r=!1,wordBoundary:c=!1}={}){return e.is(L(e.value,{at:t,html:r,wordBoundary:c}))},remove(t,r){return e.is(N(e.value,t,r))},interpolate(...t){return e.is($(e.value,...t))}};return E(e,n),w(e,n)}function E(n){Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([e,t])=>{let r=t.value.length===1?"get":"value";Object.defineProperty(n,e,{[r]:(...c)=>{let u=t.value(n,...c);return t.value.clone?n.cloneWith(u?.value??u):n.is(u?.value??u)}})})}function w(n,e){return d.chainable.forEach(t=>n[t]=Object.getOwnPropertyDescriptor(String.prototype,t)?.value.length?function(...r){return n.is(e.instanceValue[t]?.(...r))}:function(){return n.is(e.instanceValue[t]?.())}),d.valueReturn.forEach(t=>{let r=Object.getOwnPropertyDescriptor(String.prototype,t)?.value;r&&(n[t]=r.length?function(...c){return e.instanceValue[t]?.(...c)}:function(){return e.instanceValue[t]?.()})}),n}function C(n,e,t=!1){e.clone=t,l[n]=e}function S(n){n in l&&delete l[n]}function U(n){Object.keys(l).forEach(e=>S(e))}function P(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((n,e)=>({...n,[e.trim()]:!0}),{})}function V(n){return n.toLowerCase().trim().split("-").map((e,t)=>t&&`${e[0].toUpperCase()}${e.slice(1)}`||e).join("")}function R(n){return n.replace(/[A-Z]./g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function y(n){let e=n.match(/^\s+/);return n=n.trimStart(),(e?.[0]??"")+n[0].toUpperCase()+n.slice(1).toLowerCase()}function F(n){n=n.toLowerCase().split("");let e="",t;for(;n.length;){let r=n.shift();e+=/\p{L}/u.test(r)&&(!t||!/\p{L}|_/u.test(t))?r.toUpperCase():r,t=r}return e}function D(){let n=P(),e=/^(at|charAt|codePointAt)$/i,t=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(i,o)=>o.value instanceof Function&&typeof"abc"[i]()||"n/a",c=t.filter(([i,o])=>!n[i]&&!e.test(i)&&r(i,o)==="string").map(([i])=>i),u=t.filter(([i,o])=>!n[i]&&(e.test(i)||r(i,o)!=="string")).map(([i])=>i);return{chainable:c,valueReturn:u}}function m(n,e='","'){let[t,r]=e.split(",");return`${t}${n}${r??t}`}function L(n,{at:e,html:t=!1,wordBoundary:r=!1}={}){if(!e||!+e||n.length<=e)return n;let c=n.slice(0,e),u=t?"&hellip;":"...",i=[...c.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return c=r?c.slice(0,i):c,c+u}function N(n,e,t){return n.replace(n.slice(e||0,t||n.length),"")}function A(n){return n=n?.constructor===Number?String(n):n,n?.constructor===String||n?.raw}function g(n,...e){let t=A(n);return!t&&!x&&console.info(`\u2718 String contract not met: input [${String(n)?.slice(0,15)}] not a (template) string or number`),String(t?n.raw?String.raw({raw:n},...e):n??"":"")}function W(n,e,t){if(e?.constructor===RegExp)return T(n,e,t);let r=n.indexOf(e,+t);return r<0?void 0:r}function q(n,e,t){if(e?.constructor===RegExp)return z(n,e,t);let r=`${n}`.lastIndexOf(e,+t);return r<0?void 0:r}function z(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(c=>c.index<=t)?.pop()?.index:[...r].pop()?.index}}function T(n,e,t){if(e?.constructor===RegExp){e.global||(e=RegExp(e,e.flags.concat("g")));let r=n.matchAll(e);return typeof t=="number"?[...r].filter(c=>c.index>=t)?.[0]?.index:[...r][0]?.index}}function _(){let n=Object.entries(Object.getOwnPropertyDescriptors(h``)).filter(([u])=>!/valueOf|toString/.test(u)),e=Object.keys(l),t=d.chainable.concat(d.valueReturn).filter(u=>!/indexof/i.test(u)),r={};return n.forEach(([u,i])=>{if(/name|prototype|test/i.test(u)||t.find(v=>u===v))return;r[u]={};let o=r[u],s=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(u),f=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"",p=String(i.get??i.value).replace(/\s{2}/g," ").trim(),b=e.find(v=>v===u),O=b||/return instance|^(empty|reset|is)/i.test(p);o.callSign=`${u}${f}`,o.getter="get"in i,o.method="value"in i,o.setter="set"in i,o.override=/indexof/i.test(u),o.valueReturn=s,o.isUserExtension=b,o.isChainable=O,o.mutates=O}),Object.defineProperty(r,"stringify",{get(){return c()}}),r;function c(){let u=[],i=s=>/\[[a-z]/i.test(s)?", ":"";return Object.entries(r).filter(([s])=>s!=="stringify").forEach(([,s])=>{let a=h`${s.callSign} [`;s.getter&&a.append(`${i(a)}getter`),s.setter&&a.append(`${i(a)}setter`),s.method&&a.append(`${i(a)}method`),s.override&&a.append(`${i(a)}native override`),s.isUserExtension&&a.append(`${i(a)}user extension`),s.valueReturn&&a.append(`${i(a)}value return (not mutating)`),s.isChainable&&a.append(`${i(a)}chainable (mutates)`),s.mutates&&!s.isChainable&&a.append(`${i(a)}mutates`),u.push(a.append`]`.value)}),u.sort((s,a)=>s.localeCompare(a))}}function B(){let{isStringOrNumber:n,isObject:e,invalidate:t,replacement:r,replacer:c,replace:u}={isStringOrNumber:o=>[String,Number].find(s=>s===Object.getPrototypeOf(o??{})?.constructor),isObject:o=>Object.getPrototypeOf(o??"")?.constructor===Object,invalidate:(o,s)=>o??`{${s}}`,replacement:(o,s,a)=>!n(s[o])||!a&&`${s[o]}`.trim()===""?t(a,o):s[o]??t(a,o),replacer:(o,s)=>(...a)=>r(a.find(f=>f.key).key??"_",o,s),replace:(o,s,a)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,c(s,a))},i=(o,s,...a)=>a.flat().reduce((f,p)=>f.concat(e(p)?u(o,p,s):""),"");return(o,...s)=>{let a=n(s[0])?String(s.shift()):void 0;return i(o,a,...s)}}export{h as default};
//# sourceMappingURL=index.min.js.map
