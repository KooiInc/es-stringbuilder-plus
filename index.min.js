var g=U(),O=y(),m={},b=!1;Object.defineProperty(d,"describe",{get(){return F()}});Object.defineProperty(d,"addExtension",{value:(e,t)=>m[e]=t});function d(e,...t){let n=p(e,...t);return Object.freeze(S({initialValue:n,forTest:!1,instanceValue:n}))}function S(e){let t={get length(){return t.value.length},get initial(){return e.initialValue},get value(){return String(e.instanceValue)},set value(n){t.is(n)},set test(n){b=n},get reset(){return t.is(e.initialValue)},get clear(){return t.is("")},get empty(){return t.is("")},get clone(){return d`${t.value}`},get toUpper(){return t.is(t.value.toUpperCase())},get toLower(){return t.is(t.value.toLowerCase())},get firstUp(){return t.is(V(t.value))},get wordsUp(){return t.is(P(t.value))},get toDashed(){return t.is(C(t.value))},get toCamel(){return t.is(w(t.value))},quot4Print(n='","'){return v(t.value,n)},is(n,...r){return e.instanceValue=p(n,...r)??t.value,t},as(n,...r){return t.is(n,...r)},quot(n='"'){return t.is(v(t.value,n))},surroundWith({l:n="",r=""}={}){return t.is(v(t.value,n.concat(`,${r}`)))},indexOf(...n){return E(t.value,...n)},lastIndexOf(...n){return R(t.value,...n)},toString(){return t.value},valueOf(){return t.value},prepend(n,...r){return t.is((n.value??p(n,r)).concat(t.value))},append(n,...r){return t.is(t.value.concat(n.value??p(n,...r)))},truncate(n,{html:r=!1,wordBoundary:i=!1}={}){return t.is(D(t.value,{at:n,html:r,wordBoundary:i}))},remove(n,r){return t.is(L(t.value,n,r))},interpolate(...n){return t.is(O(t.value,...n))}};return x(t,e),j(t,e)}function x(e,t){Object.entries(Object.getOwnPropertyDescriptors(m)).forEach(([n,r])=>{let i=r.value.length===1?"get":"value";Object.defineProperty(e,n,{[i]:(...a)=>{let u=r.value(e,...a);return e.is(u?.value??u)}})})}function j(e,t){return g.chainable.forEach(n=>e[n]=Object.getOwnPropertyDescriptor(String.prototype,n)?.value.length?function(...r){return e.is(t.instanceValue[n]?.(...r))}:function(){return e.is(t.instanceValue[n]?.())}),g.valueReturn.forEach(n=>{let r=Object.getOwnPropertyDescriptor(String.prototype,n)?.value;r&&(e[n]=r.length?function(...i){return t.instanceValue[n]?.(...i)}:function(){return t.instanceValue[n]?.()})}),e}function $(){return`anchor,big,blink,bold,fixed,fontcolor,fontsize,italics,link,small,
          strike,sub,substr,sup,trimLeft,trimRight,indexOf,lastIndexOf`.split(",").reduce((e,t)=>({...e,[t.trim()]:!0}),{})}function w(e){return e.toLowerCase().trim().split("-").map((t,n)=>n&&`${t[0].toUpperCase()}${t.slice(1)}`||t).join("")}function C(e){return e.replace(/[A-Z]./g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,"")}function V(e){let t=e.match(/^\s+/);return e=e.trimStart(),(t?.[0]??"")+e[0].toUpperCase()+e.slice(1).toLowerCase()}function P(e){e=e.toLowerCase().split("");let t="",n;for(;e.length;){let r=e.shift();t+=/\p{L}/u.test(r)&&(!n||!/\p{L}|_/u.test(n))?r.toUpperCase():r,n=r}return t}function U(){let e=$(),t=/^(at|charAt|codePointAt)$/i,n=Object.entries(Object.getOwnPropertyDescriptors(String.prototype)),r=(u,o)=>o.value instanceof Function&&typeof"abc"[u]()||"n/a",i=n.filter(([u,o])=>!e[u]&&!t.test(u)&&r(u,o)==="string").map(([u])=>u),a=n.filter(([u,o])=>!e[u]&&(t.test(u)||r(u,o)!=="string")).map(([u])=>u);return{chainable:i,valueReturn:a}}function v(e,t='","'){let[n,r]=t.split(",");return`${n}${e}${r??n}`}function D(e,{at:t,html:n=!1,wordBoundary:r=!1}={}){if(!t||!+t||e.length<=t)return e;let i=e.slice(0,t),a=n?"&hellip;":"...",u=[...i.matchAll(/\b([\s'".,?!;:)\]])/g)].pop()?.index;return i=r?i.slice(0,u):i,i+a}function L(e,t,n){return e.replace(e.slice(t||0,n||e.length),"")}function N(e){return e=e?.constructor===Number?String(e):e,e?.constructor===String||e?.raw}function p(e,...t){let n=N(e);return!n&&!b&&console.info(`\u2718 String contract not met: input [${String(e)?.slice(0,15)}] not a (template) string or number`),String(n?e.raw?String.raw({raw:e},...t):e??"":"")}function E(e,t,n){let r=e.indexOf(t,n);return r<0?void 0:r}function R(e,t,n){let r=e.lastIndexOf(t,n);return r<0?void 0:r}function F(){let e=Object.entries(Object.getOwnPropertyDescriptors(d``)),t=Object.keys(m),n=g.chainable.concat(g.valueReturn).filter(r=>!/indexof/i.test(r));return e.map(([r,i])=>{if(/name|prototype|test/i.test(r)||n.find(h=>r===h))return;let a=[],u=/^(tostring|valueof|initial|length|indexof|lastindexof|clone|quot4Print)$/i.test(r),s=!i.get&&!i.set&&i.value instanceof Function?i.value.toString().match(/(\(.+?\))/)?.shift()??"()":"";if(i.get&&a.push("getter"),i.value&&a.push("method"),/indexof/i.test(r)&&a.push("native override"),u)return a.push("value return (not mutating)"),`${r}${s} [${a.join(", ")}]`;let c=String(i.get??i.value).replace(/\s{2}/g," ").trim(),l=t.find(h=>h===r),f=l||/return instance|^(empty|reset|is)/i.test(c);return i.set&&a.push("setter (mutates)"),l&&a.push("user extension"),f&&a.push("chainable (mutates)"),`${r}${s} [${a.join(", ")}]`}).filter(r=>r).sort((r,i)=>r.localeCompare(i))}function y(){let{isStringOrNumber:e,isObject:t,invalidate:n,replacement:r,replacer:i,replace:a}={isStringOrNumber:o=>[String,Number].find(s=>s===Object.getPrototypeOf(o??{})?.constructor),isObject:o=>Object.getPrototypeOf(o??"")?.constructor===Object,invalidate:(o,s)=>o??`{${s}}`,replacement:(o,s,c)=>!e(s[o])||!c&&`${s[o]}`.trim()===""?n(c,o):s[o]??n(c,o),replacer:(o,s)=>(...c)=>r(c.find(l=>l.key).key??"_",o,s),replace:(o,s,c)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,i(s,c))},u=(o,s,...c)=>c.flat().reduce((l,f)=>l.concat(t(f)?a(o,f,s):""),"");return(o,...s)=>{let c=e(s[0])?String(s.shift()):void 0;return u(o,c,...s)}}export{d as default};
//# sourceMappingURL=index.min.js.map
